{"ast":null,"code":"var _jsxFileName = \"/Users/xinshuangzhai/Desktop/Spring2019/CSCI4230/MessageSystem/src/components/CreateMessageForm/index.js\";\nimport React from 'react';\nimport style from './index.module.css';\nimport { FileInput } from '../FileInput';\nexport var CreateMessageForm = function CreateMessageForm(_ref) {\n  var _ref$state = _ref.state,\n      _ref$state$user = _ref$state.user,\n      user = _ref$state$user === void 0 ? {} : _ref$state$user,\n      _ref$state$room = _ref$state.room,\n      room = _ref$state$room === void 0 ? {} : _ref$state$room,\n      _ref$state$message = _ref$state.message,\n      message = _ref$state$message === void 0 ? '' : _ref$state$message,\n      runCommand = _ref.actions.runCommand;\n  return room.id ? React.createElement(\"form\", {\n    className: style.component,\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      var message = e.target[0].value.trim();\n\n      if (message.length === 0) {\n        return;\n      }\n\n      e.target[0].value = '';\n      message.startsWith('/') ? runCommand(message.slice(1)) : user.sendMessage({\n        text: message,\n        roomId: room.id\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    placeholder: \"Type a Message..\",\n    onInput: function onInput(e) {\n      return user.isTypingIn({\n        roomId: room.id\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), React.createElement(FileInput, {\n    state: {\n      user: user,\n      room: room,\n      message: message\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"use\", {\n    xlinkHref: \"index.svg#send\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })))) : null;\n};","map":{"version":3,"sources":["/Users/xinshuangzhai/Desktop/Spring2019/CSCI4230/MessageSystem/src/components/CreateMessageForm/index.js"],"names":["React","style","FileInput","CreateMessageForm","state","user","room","message","runCommand","actions","id","component","e","preventDefault","target","value","trim","length","startsWith","slice","sendMessage","text","roomId","isTypingIn"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,SAAT,QAA0B,cAA1B;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,wBAC/BC,KAD+B;AAAA,mCACtBC,IADsB;AAAA,MACtBA,IADsB,gCACf,EADe;AAAA,mCACXC,IADW;AAAA,MACXA,IADW,gCACJ,EADI;AAAA,sCACAC,OADA;AAAA,MACAA,OADA,mCACU,EADV;AAAA,MAEpBC,UAFoB,QAE/BC,OAF+B,CAEpBD,UAFoB;AAAA,SAI/BF,IAAI,CAACI,EAAL,GACE;AACE,IAAA,SAAS,EAAET,KAAK,CAACU,SADnB;AAEE,IAAA,QAAQ,EAAE,kBAAAC,CAAC,EAAI;AACbA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAMN,OAAO,GAAGK,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,KAAZ,CAAkBC,IAAlB,EAAhB;;AAEA,UAAIT,OAAO,CAACU,MAAR,KAAmB,CAAvB,EAA0B;AACxB;AACD;;AAEDL,MAAAA,CAAC,CAACE,MAAF,CAAS,CAAT,EAAYC,KAAZ,GAAoB,EAApB;AAEAR,MAAAA,OAAO,CAACW,UAAR,CAAmB,GAAnB,IACIV,UAAU,CAACD,OAAO,CAACY,KAAR,CAAc,CAAd,CAAD,CADd,GAEId,IAAI,CAACe,WAAL,CAAiB;AACfC,QAAAA,IAAI,EAAEd,OADS;AAEfe,QAAAA,MAAM,EAAEhB,IAAI,CAACI;AAFE,OAAjB,CAFJ;AAMD,KAnBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAqBE;AACE,IAAA,WAAW,EAAC,kBADd;AAEE,IAAA,OAAO,EAAE,iBAAAE,CAAC;AAAA,aAAIP,IAAI,CAACkB,UAAL,CAAgB;AAAED,QAAAA,MAAM,EAAEhB,IAAI,CAACI;AAAf,OAAhB,CAAJ;AAAA,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,EAyBE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEL,MAAAA,IAAI,EAAJA,IAAF;AAAQC,MAAAA,IAAI,EAAJA,IAAR;AAAcC,MAAAA,OAAO,EAAPA;AAAd,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBF,EA0BE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CA1BF,CADF,GAiCI,IArC2B;AAAA,CAA1B","sourcesContent":["import React from 'react'\nimport style from './index.module.css'\nimport { FileInput } from '../FileInput'\n\nexport const CreateMessageForm = ({\n  state: { user = {}, room = {}, message = '' },\n  actions: { runCommand },\n}) =>\n  room.id ? (\n    <form\n      className={style.component}\n      onSubmit={e => {\n        e.preventDefault()\n\n        const message = e.target[0].value.trim()\n\n        if (message.length === 0) {\n          return\n        }\n\n        e.target[0].value = ''\n\n        message.startsWith('/')\n          ? runCommand(message.slice(1))\n          : user.sendMessage({\n              text: message,\n              roomId: room.id,\n            })\n      }}\n    >\n      <input\n        placeholder=\"Type a Message..\"\n        onInput={e => user.isTypingIn({ roomId: room.id })}\n      />\n      <FileInput state={{ user, room, message }} />\n      <button type=\"submit\">\n        <svg>\n          <use xlinkHref=\"index.svg#send\" />\n        </svg>\n      </button>\n    </form>\n  ) : null\n"]},"metadata":{},"sourceType":"module"}